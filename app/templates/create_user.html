{% extends 'base.html' %}
{% block content %}
        <section id="bar">
            <div class="container banner">
                <div id="user">
                    <h2><i class="bi bi-person-badge-fill"> </i> Copiando <b class="name">{{ username }}</b></h2>
                </div>
            </div>
        </section>
        <br><br>
        <section id="card">
            <div class="container" id="info">
                <form class="formulario" id="copy_user" action="{{ url_for('busca.create_user_f', username=username) }}" method="POST">
                    <div class="nome">
                        <label>Nome:</label>
                        <p><input type="text" name="nome" class="form-control" placeholder="Digite o nome..." required></p>
                    </div>
    
                    <div class="sobrenome">
                        <label>Sobrenome:</label>
                        <p><input type="text" name="sn" class="form-control" placeholder="Digite o Sobrenome..." required></p>
                    </div>
                    
                    <div class="iniciais">
                        <label>Iniciais:</label>
                        <p><input type="text" name="init" class="form-control" placeholder="Digite as iniciais..." required></p>
                    </div>
                    
                    <div class="descricao">
                        <label>Função:</label>
                        <p><input type="text" name="descricao" class="form-control" placeholder="Digite a função..." required></p>
                    </div>
    
                    <div class="email">
                        <label>Email:</label>
                        <p><input type="text" name="e_mail" class="form-control" placeholder="Digite o email...." required></p>
                    </div>

                    <div class="cpf">
                        <label>CPF:</label>
                        <p><input type="text" id="cpfUsuario" name="cpf" class="form-control" placeholder="Digite o CPF..." required></p>
                    </div>

                    <div class="username">
                        <label>Login:</label>
                        <p><input type="text" name="login" class="form-control" placeholder="Digite o login..." maxlength="20" oninput="this.value = this.value.replace(/[^a-zA-Z_]/g, '')" required></p>
                    </div>

                    
                    <div class="grupos">
                        <label>Membro de:</label>
                        <ul class="item-list">
                            {% for group in groups %}
                            <li>{{ group }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                    <!-- Modal -->
                    <div id="modalSave" class="modal">
                        <div class="modal-content">
                            <h2>ATENÇÃO</h2>
                            <p>Tem certeza que deseja criar este usuário?</p>
                            <div id="botaoModal">
                                <button class="btn btn-success carregar" id="confirmBtnSave" type="submit" name="save_query">Confirmar</button>
                                <button class="btn btn-danger" id="cancelBtnSave">Cancelar</button>
                            </div>
                        </div>
                    </div>
                    <!-- Fim Modal -->
                </form>
                {% if error_message %}
                <div class="alert alert-danger alert-dismissible fade show modalErro" role="alert">
                    <button type="button" class="btn-close" id="closeAlert" data-bs-dismiss="alert" aria-label="Close"></button>
                    <h4 class="alert-heading"><b>Erro ao criar usuário</b></h4>
                    <hr>
                    <p class="mb-0">{{ error_message }}</p>
                </div>
                <div class="overlay" id="overlay"></div>
                <!-- Elemento de sobreposição para escurecer o fundo -->
                {% endif %}


                <!-- ################################################### -->
                <br>
                <button class="btn btn-success" id="saveNewUser">Criar</button>
                </div>
          
            </body>
            <br>
        </section>
        <script src="../static/js/create_user.js"></script>
{% endblock %}